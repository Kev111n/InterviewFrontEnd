## 回流（重排）和重绘

回流 (Reflow) 是指网页渲染引擎根据元素的尺寸、位置和显示属性来重新计算页面的排版和布局，是网页渲染过程中的一个重要步骤。重绘 (Repaint) 是指网页渲染引擎根据显示属性 (如颜色、文字大小等) 重新绘制页面元素，不影响元素的位置和尺寸

**减少回流和重绘的方法**

- 移动调整元素时，使用 `transform`

- 使用 `opacity` 来改变元素的能见度

- 如果需要频繁重绘或回流的节点，可以透过

   

  ```
  will-change
  ```

   

  设定成独立的图层，因为独立的图层可以避免该节点渲染行为影像到其他节点。

  ```css
  body > .sidebar {
    will-change: transform;
  }
  ```

- 避免频繁用 JavaScript 操作 DOM 节点

## 懒加载和按需加载的区别

懒加载（Lazy Loading）和按需加载（On-Demand Loading）在前端性能优化中都起着重要的作用，但它们在具体的应用和原理上存在一些差异。以下是对它们之间的区别进行的分析：

1. 定义与概念：
   - 懒加载：也称为延迟加载，是一种优化网页性能的方法。它的核心思想是：在页面加载时，仅加载当前可见或即将可见的内容，当用户滚动或触发其他事件时，再加载其他部分的内容。这主要用于图片、视频等媒体资源以及大型组件或路由页面。
   - 按需加载：允许在需要时动态加载资源，而不是在页面初次加载时将所有资源都下载下来。它更关注资源的加载时机，适用于大型单页面应用（SPA）等场景。
2. 应用场景：
   - 懒加载：常用于图片、视频以及需要滚动页面才能看到的内容。这种技术有助于页面在开始时只加载必要的内容，当用户需要查看其他部分时再进行加载，从而减少初始加载时间。
   - 按需加载：适用于在应用程序中动态加载特定的代码块或模块。通过按需加载，只有在用户执行某些操作或导航到特定页面时，与该页面相关的代码和数据才会被下载和执行。
3. 实现原理：
   - 懒加载：利用用户行为监测，如滚动、点击等，将页面中的资源（如图片）的加载时机推迟至用户需要时。这通常通过监听滚动事件或Intersection Observer API来判断资源是否进入可视区域，进而决定是否加载。
   - 按需加载：在现代JavaScript中，可以使用动态`import()`函数来实现按需加载。这使得开发者可以在运行时根据需要异步加载模块。在React中，可以使用`React.lazy()`和`<Suspense>`组件来实现组件级别的懒加载。
4. 特点与优势：
   - 懒加载：通过延迟加载页面内容或资源，能够提升页面加载速度、减少数据传输量，并优化用户体验。它特别适用于长页面或包含大量资源的页面。
   - 按需加载：更灵活，可以根据具体需求动态加载任何模块或代码块。这有助于减少初始加载时间，特别是对于大型组件或应用程序中的路由页面。通过延迟加载不是立即需要的组件，可以加快初始加载速度并改善用户体验。
5. 总结：
   - 懒加载和按需加载都是前端性能优化的重要手段，但它们在应用场景、实现原理和特点上有所不同。懒加载更侧重于页面内容的延迟加载，而按需加载则更关注资源的动态加载时机。在实际开发中，可以根据项目的具体需求选择合适的优化策略。